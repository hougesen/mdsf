{
  "uses": [
    { "uses": "actions/checkout@v4" },
    { "uses": "Swatinem/rust-cache@v2" },
    {
      "uses": "erlef/setup-beam@v1",
      "with": {
        "otp-version": "26",
        "gleam-version": "1.0.0",
        "elixir-version": "1.16.1"
      }
    },
    {
      "uses": "actions/setup-python@v5",
      "with": {
        "cache": "pip"
      }
    },
    {
      "uses": "actions/setup-node@v4",
      "with": {
        "node-version": "22"
      }
    },
    { "uses": "jiro4989/setup-nim-action@v2" },
    { "uses": "goto-bus-stop/setup-zig@v2" },
    { "uses": "uncenter/setup-taplo@v1" },
    {
      "uses": "actions/setup-go@v5",
      "with": {
        "go-version": "stable"
      }
    },
    {
      "uses": "ruby/setup-ruby@v1",
      "with": {
        "ruby-version": "3.3"
      }
    },
    { "uses": "dart-lang/setup-dart@v1" },
    { "uses": "crystal-lang/install-crystal@v1" },
    { "uses": "hasnep/setup-roc@v0.5.0" },
    {
      "uses": "denoland/setup-deno@v2",
      "with": {
        "deno-version": "v1.x"
      }
    },
    { "uses": "taiki-e/install-action@just" },
    {
      "uses": "ocaml/setup-ocaml@v3",
      "with": {
        "dune-cache": true,
        "ocaml-compiler": "5.1"
      }
    },
    {
      "uses": "actions/setup-java@v4",
      "with": {
        "java-version": "21",
        "distribution": "temurin"
      }
    },
    { "uses": "haskell-actions/setup@v2" },
    { "uses": "julia-actions/cache@v2" },
    { "uses": "cargo-bins/cargo-binstall@main" },
    { "uses": "Homebrew/actions/setup-homebrew@master" },
    { "uses": "leafo/gh-actions-lua@v11" },
    { "uses": "leafo/gh-actions-luarocks@v5" },
    {
      "uses": "oven-sh/setup-bun@v2",
      "with": {
        "bun-version": "latest"
      }
    },
    {
      "name": "Install cargo-llvm-cov",
      "uses": "taiki-e/install-action@cargo-llvm-cov"
    }
  ],
  "post:uses": [
    { "run": "rustup toolchain install stable --profile minimal" },
    { "run": "rustup component add rustfmt clippy" },
    {
      "run": "curl -LsSf https://github.com/posit-dev/air/releases/latest/download/air-installer.sh | sh"
    }
  ],
  "post:packages": [
    { "run": "hash -r" },
    { "name": "Run tests", "run": "cargo test" },
    {
      "name": "Generate code coverage",
      "run": "cargo llvm-cov --all-features --all-targets --locked --lcov --output-path lcov.info"
    },
    {
      "name": "Upload code coverage",
      "uses": "codecov/codecov-action@v5",
      "with": {
        "files": "lcov.info",
        "token": "${{ secrets.CODECOV_TOKEN }}",
        "slug": "hougesen/mdsf"
      }
    }
  ]
}
